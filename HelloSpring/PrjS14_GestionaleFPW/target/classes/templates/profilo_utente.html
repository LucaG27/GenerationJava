<div th:replace="header.html"></div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<br><br><br><br><br><br><br><br>

<style> .inf-content{
    border:1px solid #DDDDDD;
    -webkit-border-radius:10px;
    -moz-border-radius:10px;
    border-radius:10px;
    box-shadow: 7px 7px 7px rgba(0, 0, 0, 0.3);
}		

</style>

<div class="container bootstrap snippets bootdey">
    <div class="panel-body inf-content">
        <div class="row">

            <div class="col-md-10">

                <div class="table-responsive">
                <table class="table table-user-information">
                    <tbody>
                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-asterisk text-primary"></span>
                                    <strong>Information</strong><br>                                               
                                </strong>
                            </td>

                        </tr>
                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-asterisk text-primary"></span>
                                    Id                                                
                                </strong>
                            </td>
                            <td class="text-primary" >
                            <input type="text" class="form-control" id="tabellaId" disabled>
                            </td>
                        </tr>
                        <tr>    
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-user  text-primary"></span>    
                                    Nome                                               
                                </strong>
                            </td>
                            <td class="text-primary" >
                            <input type="text" class="form-control" id="tabellaNome">
                            </td>
                        </tr>
                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-cloud text-primary"></span>  
                                    Cognome                                                
                                </strong>
                            </td>
                            <td class="text-primary">
                            <input type="text" class="form-control" id="tabellaCognome">
                            </td>
                        </tr>
    

                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-envelope text-primary"></span> 
                                    Email                                                
                                </strong>
                            </td>
                            <td class="text-primary" >
                            <input type="email" class="form-control" id="tabellaEmail">
                            </td>
                        </tr>

                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-calendar text-primary"></span>
                                    Telefono                                               
                                </strong>
                            </td>
                            <td class="text-primary">
                            <input type="tel" class="form-control" id="tabellaTelefono">
                            </td>
                        </tr>   
                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-envelope text-primary"></span> 
                                    Indirizzo                                                
                                </strong>
                            </td>
                            <td class="text-primary" >
                            <input type="text" class="form-control" id="tabellaIndirizzo">
                            </td>
                        </tr> 
                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-envelope text-primary"></span> 
                                    Citt√†                                               
                                </strong>
                            </td>
                            <td class="text-primary">
                            <input type="text" class="form-control" id="tabellaCitta">
                            </td>
                        </tr>    
                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-envelope text-primary"></span> 
                                    Provincia                                                
                                </strong>
                            </td>
                            <td class="text-primary">
                            <input type="text" class="form-control" id="tabellaProvincia">
                            </td>
                        </tr> 
                        <tr>        
                            <td>
                                <strong>
                                    <span class="glyphicon glyphicon-envelope text-primary"></span> 
                                    Regione                                                
                                </strong>
                            </td>
                            <td class="text-primary">
                            <input type="text" class="form-control" id="tabellaRegione">
                            </td>
                        </tr> 
                        <td>
                            <strong>
                                <span class="glyphicon glyphicon-envelope text-primary"></span>                                           
                                <button type="button" class="mb-3 btn btn-primary" onclick="saveModificheCliente()">Salva le modifiche</button>                                            
                            </strong>
                        </td>                           
                    </tbody>
                </table>
                </div>
            </div>
        </div>
    </div>
    </div>  


<script>


	document.getElementById('tabellaId').value = "";
	document.getElementById('tabellaNome').value = "";
	document.getElementById('tabellaCognome').value = "";
	document.getElementById('tabellaTelefono').value = "";
	document.getElementById('tabellaEmail').value = "";
	document.getElementById('tabellaIndirizzo').value = "";
	document.getElementById('tabellaCitta').value = "";
	document.getElementById('tabellaProvincia').value = "";
	document.getElementById('tabellaRegione').value = "";
	

	
		fetch("http://localhost:8080/api/cliente/getProfiloCliente/", {
			method: "GET"
			})
			.then(response => response.json())
			.then(cliente => {
				document.getElementById('tabellaId').value = cliente.id;
				document.getElementById('tabellaNome').value = cliente.nome;
				document.getElementById('tabellaCognome').value = cliente.cognome;
				document.getElementById('tabellaTelefono').value = cliente.telefono;
				document.getElementById('tabellaEmail').value = cliente.email;
				document.getElementById('tabellaIndirizzo').value = cliente.indirizzo;
				document.getElementById('tabellaCitta').value = cliente.citta;
				document.getElementById('tabellaProvincia').value = cliente.provincia;
				document.getElementById('tabellaRegione').value = cliente.regione;
			});
		
		
		
		function saveModificheCliente(){//salvataggio delle modifiche

			fetch("http://localhost:8080/api/cliente/saveCliente" , {
			method: "POST",
			headers: new Headers({ "Content-Type" : "application/json" }),
			body: JSON.stringify(
				{
					id: document.getElementById('tabellaId').value,
					nome: document.getElementById('tabellaNome').value,
					cognome: document.getElementById('tabellaCognome').value,
					telefono: document.getElementById('tabellaTelefono').value,
					email: document.getElementById('tabellaEmail').value,
					indirizzo: document.getElementById('tabellaIndirizzo').value,
					citta: document.getElementById('tabellaCitta').value,
					provincia: document.getElementById('tabellaProvincia').value,
					regione: document.getElementById('tabellaRegione').value
				}
			)

			})
			.then(response => response.text())
			.then(text => alert(text))
			.catch(errore => alert(errore))
			}
	

</script>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="../static/js/profilo_utente.js"></script>

<div th:replace="footer.html"></div>